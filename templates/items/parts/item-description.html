<div class="tab active flexcol" data-group="primary" data-tab="description">
  {{#if showIdentifyDescription}}
  <nav class="sheet-navigation tabs subtabs description" data-group="description">
    <a class="item active" data-tab="identified">{{localize "D3Vilia.Identified"}}</a>
    <a class="item" data-tab="unidentified">{{localize "D3Vilia.Unidentified"}}</a>
  </nav>
  {{/if}}

  <div class="flexrow description-container">
    <div class="item-properties">
      {{#if isPhysical}}
      {{!-- Quantity --}}
      <div class="form-group">
        <label>{{localize "D3Vilia.Quantity"}}</label>
        <input type="text" name="data.quantity" value="{{data.quantity}}" data-dtype="Number"/>
      </div>

      {{!-- Weight --}}
      <div class="form-group">
        <label>{{localize "D3Vilia.Weight"}}</label>
        <input type="text" name="data.convertedWeight" value="{{convertedWeight}}" data-dtype="Number"/>
        {{#if usesImperialSystem}}
        <label class="unit" style="flex: 0">{{ localize 'D3Vilia.Lbs' }}</label>
        {{else}}
        <label class="unit" style="flex: 0">{{ localize 'D3Vilia.Kgs' }}</label>
        {{/if}}
      </div>

      <div class="form-group">
        <label>{{localize "D3Vilia.EquippedWeightless"}}</label>

        <label class="checkbox" style="position: relative; flex: 0 20px">
          <input type="checkbox" class="stylized" name="data.equippedWeightless" {{checked data.equippedWeightless}}/>
          <span class="checkmark"></span>
        </label>
      </div>

      {{!-- Price --}}
      {{#if showIdentifyDescription}}
      <div class="form-group">
        <label>{{localize "D3Vilia.Price"}}</label>
        <input type="text" name="data.price" value="{{data.price}}" data-dtype="Number"/>
      </div>

      <div class="form-group">
        <label>{{localize "D3Vilia.UnidentifiedPriceShort"}}</label>
        <input type="text" name="data.unidentified.price" value="{{data.unidentified.price}}" data-dtype="Number"/>
      </div>
      {{else}}
      {{#if showUnidentifiedData}}
      <div class="form-group">
        <label>{{localize "D3Vilia.Price"}}</label>
        <input type="text" name="data.unidentified.price" value="{{data.unidentified.price}}" data-dtype="Number"/>
      </div>
      {{else}}
      <div class="form-group">
        <label>{{localize "D3Vilia.Price"}}</label>
        <input type="text" name="data.price" value="{{data.price}}" data-dtype="Number"/>
      </div>
      {{/if}}
      {{/if}}

      {{!-- Hit Points --}}
      <div class="form-group">
        <label>{{localize "D3Vilia.HPShort"}}</label>
        <input type="text" name="data.hp.value" value="{{data.hp.value}}" data-dtype="Number" style="flex: 0 0 32px"/>
        <span>/</span>
        <input type="text" name="data.hp.max" value="{{data.hp.max}}" data-dtype="Number" style="flex: 0 0 32px"/>
      </div>

      {{!-- Hardness --}}
      <div class="form-group">
        <label>{{localize "D3Vilia.Hardness"}}</label>
        <input type="text" name="data.hardness" value="{{data.hardness}}" data-dtype="Number"/>
      </div>

      {{!-- Carried Flag --}}
      <div class="form-group">
        <label>{{localize "D3Vilia.Carried"}}</label>
        <label class="checkbox" style="position: relative; flex: 0 20px">
          <input type="checkbox" class="stylized" name="data.carried" {{checked data.carried}}/>
          <span class="checkmark"></span>
        </label>
      </div>
      <div class="form-group">
        <label>{{localize "D3Vilia.Container"}}</label>

        <select name="data.containerId">
          {{#select data.containerId}}
          {{#each availableContainers as |name id|}}
          <option value="{{id}}">{{name}}</option>
          {{/each}}
          {{/select}}
        </select>
      </div>
      {{/if}}


      {{#if canMeld}}
      <div class="form-group">
        <label>{{localize "D3Vilia.Melded"}}</label>

        <label class="checkbox" style="position: relative; flex: 0 20px">
          <input type="checkbox" class="stylized" name="data.melded" {{checked data.melded}}/>
          <span class="checkmark"></span>
        </label>
      </div>
      {{/if}}



      {{!-- Properties --}}

      {{#unless showUnidentifiedData}}
      <ol class="properties-list">
        {{#each itemProperties}}
        <li>{{this}}</li>
        {{/each}}
      </ol>
      {{/unless}} 

      {{#if isFeat}}
      <div class="form-group">
        <label>{{localize "D3Vilia.FeatPool"}}</label>
        <select name="data.classSource" data-dtype="String">
            {{#select data.classSource}}
            <option value="">{{localize "D3Vilia.Base"}}</option>
            {{#each featCounters as |ftt a|}}
            <option value="{{ftt.val}}" style="text-transform: capitalize">{{ftt.name}}</option>
            {{/each}}
            {{/select}}
        </select>
      </div>
      {{/if}}

      {{#if isGM}}
      <div class="form-group">
        <label>UID</label>
        <input type="text" name="data.uniqueId" value="{{data.uniqueId}}" data-dtype="String"/>
      </div>

      <div class="form-group">
        <label>Non Removable</label>
        <input type="checkbox" name="data.userNonRemovable" {{checked data.userNonRemovable}}/>
      </div>
      {{/if}}


    </div>

    {{#if showIdentifyDescription}}
    <section class="description-body">
      <div class="tab description-group flexcol" data-group="description" data-tab="identified">
      {{editor content=data.description.value target="data.description.value" button=true owner=owner editable=editable}}
      </div>

      <div class="tab description-group flexcol" data-group="description" data-tab="unidentified">
      {{editor content=data.description.unidentified target="data.description.unidentified" button=true owner=owner editable=editable}}
      </div>
    </section>
    {{else}}
    {{#if showUnidentifiedData}}
    {{editor content=data.description.unidentified target="data.description.unidentified" button=true owner=owner editable=editable}}
    {{else}}
    {{editor content=data.description.value target="data.description.value" button=true owner=owner editable=editable}}
    {{/if}}
    {{/if}}
  </div>
</div>
